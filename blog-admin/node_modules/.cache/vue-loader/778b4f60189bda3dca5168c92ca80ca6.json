{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\src\\views\\articles\\tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\src\\views\\articles\\tags.vue","mtime":1682348248000},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689641835446},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1689641839258},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689641835446},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1689641841369}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoVGFncywgcmVtb3ZlLCBhZGQsIGluZm8sIHVwZGF0ZSwgZGVsZXRlQmF0Y2gsIHRvcCB9IGZyb20gJ0AvYXBpL3RhZ3MnCmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMnCmltcG9ydCB7IGhhc0F1dGggfSBmcm9tICdAL3V0aWxzL2F1dGgnCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDliqDovb3lsYLkv6Hmga8KICAgICAgbG9hZGluZzogW10sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIGlzRWRpdEZvcm06IDAsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHRpdGxlOiBudWxsLAogICAgICB0YWc6IHt9LAogICAgICBwYXJhbXM6IHsKICAgICAgICBuYW1lOiBudWxsLAogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgcnVsZXM6CiAgICAgICAgewogICAgICAgICAgJ25hbWUnOiBbCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavlrZfmrrUnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9LAogICAgICAgICAgICB7IG1pbjogMSwgbWF4OiAyMCwgbWVzc2FnZTogJ+mVv+W6puWcqDHliLAyMOS4quWtl+espicgfQogICAgICAgICAgXSwKICAgICAgICAgICdzb3J0JzogWwogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5b+F5aGr5a2X5q61JywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICAgICAgeyBwYXR0ZXJuOiAvXlswLTldXGQqJC8sIG1lc3NhZ2U6ICfmjpLluo/lrZfmrrXlj6rog73kuLroh6rnhLbmlbAnIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5vcGVuTG9hZGluZygpCiAgICB0aGlzLmZldGNoVGFncygpCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdwcmVzJwogICAgXSksCiAgICBjYW5BZGQ6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gaGFzQXV0aCh0aGlzLnByZXMsICcvc3lzdGVtL3RhZ3MvYWRkJykKICAgIH0sCiAgICBjYW5EZWw6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gaGFzQXV0aCh0aGlzLnByZXMsICcvc3lzdGVtL3RhZ3MvcmVtb3ZlJykKICAgIH0sCiAgICBjYW5EZWxldGVCYXRjaDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vdGFncy9kZWxldGVCYXRjaCcpCiAgICB9LAogICAgY2FuVXBkYXRlOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS90YWdzL3VwZGF0ZScpCiAgICB9LAogICAgY2FuVG9wOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS90YWdzL3RvcCcpCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFRhZ3M6IGZ1bmN0aW9uKCkgewogICAgICBmZXRjaFRhZ3ModGhpcy5wYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLnJlY29yZHMKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWwKICAgICAgICB0aGlzLmxvYWRpbmcuY2xvc2UoKQogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgfSkKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuaXNFZGl0Rm9ybSkgewogICAgICAgICAgICB1cGRhdGUodGhpcy50YWcpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueagh+etvuaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy5mZXRjaFRhZ3MoKQogICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2dGb3JtKCkKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGQodGhpcy50YWcpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOagh+etvuaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy50YWcgPSByZXMuZGF0YQogICAgICAgICAgICAgIHRoaXMuZmV0Y2hUYWdzKCkKICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nRm9ybSgpCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdubyBzdWJtaXQnKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICByZW1vdmUoc2NvcGUucm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOagh+etvuaIkOWKnycpCiAgICAgICAgICB0aGlzLmZldGNoVGFncygpCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQ3JlYXRlOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5pc0VkaXRGb3JtID0gMAogICAgICB0aGlzLnRhZyA9IHRoaXMuZ2V0Rm9ybU9iamVjdCgpCiAgICAgIHRoaXMudGl0bGUgPSAn5paw5aKe5qCH562+JwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbihzY29wZSkgewogICAgICBpbmZvKHNjb3BlLnJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFnID0gcmVzLmRhdGEKICAgICAgICB0aGlzLmlzRWRpdEZvcm0gPSAxCiAgICAgICAgdGhpcy50aXRsZSA9ICfkv67mlLnmoIfnrb4nCiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgZ2V0Rm9ybU9iamVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc29ydDogJycKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVRvcDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5Lya5oqK6K+l5qCH562+5pS+5Yiw6aaW5L2NLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRvcChzY29wZS5yb3cuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn572u6aG25qCH562+5oiQ5YqfJykKICAgICAgICAgIHRoaXMuZmV0Y2hUYWdzKCkKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojnva7pobYnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5wYXJhbXMubmFtZSA9IG51bGwKICAgICAgdGhpcy5mZXRjaFRhZ3MoKQogICAgfSwKICAgIGhhbmRsZUZpbmQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlTm8gPSAxCiAgICAgIHRoaXMuZmV0Y2hUYWdzKCkKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup6KaB5Yig6Zmk55qE5qCH562+JykKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgY29uc3QgaWRzID0gW10KICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpZHMucHVzaChpdGVtLmlkKQogICAgICAgIH0pCiAgICAgICAgZGVsZXRlQmF0Y2goaWRzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aJuemHj+WIoOmZpOagh+etvuaIkOWKnycpCiAgICAgICAgICB0aGlzLmZldGNoVGFncygpCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgY2xvc2VEaWFsb2dGb3JtOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy50YWcgPSB7fQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbih2YWwpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZVNpemUgPSB2YWwKICAgICAgdGhpcy5mZXRjaFRhZ3MoKQogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uKHZhbCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlTm8gPSB2YWwKICAgICAgdGhpcy5mZXRjaFRhZ3MoKQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24odmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWwKICAgIH0sCiAgICAvLyDmiZPlvIDliqDovb3lsYIKICAgIG9wZW5Mb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgIHRleHQ6ICfmraPlnKjliqDovb3kuK1+JywKICAgICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICB9KQogICAgfSwKICAgIGRhdGFGb3JtYXQ6IGZ1bmN0aW9uKHRpbWUpIHsKICAgICAgcmV0dXJuIHBhcnNlVGltZSh0aW1lKQogICAgfQogIH0KfQo="},{"version":3,"sources":["tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tags.vue","sourceRoot":"src/views/articles","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!--查询or添加-->\n    <el-form v-show=\"showSearch\" ref=\"form\" :inline=\"true\" :model=\"params\" label-width=\"68px\">\n      <el-form-item label=\"标签名称\">\n        <el-input v-model=\"params.name\" style=\"width: 200px\" size=\"small\" placeholder=\"请输入标签名称\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"small\" @click=\"handleFind\">查找</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"small\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          v-if=\"canAdd\"\n          size=\"small\"\n          class=\"filter-item\"\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"handleCreate\"\n        >添加\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          v-if=\"canDeleteBatch\"\n          size=\"small\"\n          :disabled=\"!multipleSelection.length\"\n          class=\"filter-item\"\n          type=\"danger\"\n          icon=\"el-icon-delete\"\n          @click=\"handleDelete\"\n        >批量删除\n        </el-button>\n      </el-col>\n      <right-toolbar :show-search.sync=\"showSearch\" @queryTable=\"fetchTags\" />\n    </el-row>\n\n    <div style=\"margin-top: 5px\">\n      <el-table\n        border\n        :data=\"tableData\"\n        style=\"width: 100%\"\n        :default-sort=\"{prop: 'sort', order: 'descending'}\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column align=\"center\" type=\"selection\" />\n        <el-table-column align=\"center\" label=\"序号\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.$index + 1 }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" align=\"center\" label=\"标签名\" width=\"180\" />\n        <el-table-column prop=\"articleCount\" align=\"center\" label=\"文章量\" />\n        <el-table-column align=\"center\" prop=\"sort\" sortable label=\"排序\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"warning\">{{ scope.row.sort }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" prop=\"clickVolume\" label=\"点击量\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"warning\">{{ scope.row.clickVolume }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"180\" align=\"center\" label=\"添加时间\">\n          <template slot-scope=\"scope\">\n            <span>{{ dataFormat(scope.row.createTime) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"220\" align=\"center\" label=\"操作\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button v-if=\"canTop\" type=\"warning\" size=\"mini\" @click=\"handleTop(scope)\">置顶</el-button>\n            <el-button v-if=\"canUpdate\" type=\"primary\" size=\"mini\" @click=\"handleEdit(scope)\">编辑</el-button>\n            <el-button v-if=\"canDel\" size=\"mini\" type=\"danger\" @click=\"remove(scope)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n    </div>\n\n    <!--分页区域-->\n    <div class=\"pagination-container\" style=\"float: right;margin-bottom: 1.25rem;margin-top: 1.25rem;\">\n      <el-pagination\n        background\n        :current-page=\"params.pageNo\"\n        :page-size=\"params.pageSize\"\n        :page-sizes=\"[10, 20, 30]\"\n        layout=\"total, sizes,prev, pager, next,jumper\"\n        :total=\"total\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n\n    <el-dialog center :title=\"title\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"tag\">\n        <el-form-item label=\"标签名\" prop=\"name\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"tag.name\" />\n        </el-form-item>\n        <el-form-item label=\"排序\" prop=\"sort\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"tag.sort\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeDialogForm\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { fetchTags, remove, add, info, update, deleteBatch, top } from '@/api/tags'\nimport { parseTime } from '@/utils'\nimport { hasAuth } from '@/utils/auth'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      // 加载层信息\n      loading: [],\n      tableData: [],\n      formLabelWidth: '120px',\n      dialogFormVisible: false,\n      showSearch: true,\n      isEditForm: 0,\n      total: null,\n      multipleSelection: [],\n      title: null,\n      tag: {},\n      params: {\n        name: null,\n        pageNo: 1,\n        pageSize: 10\n      },\n      rules:\n        {\n          'name': [\n            { required: true, message: '必填字段', trigger: 'change' },\n            { min: 1, max: 20, message: '长度在1到20个字符' }\n          ],\n          'sort': [\n            { required: true, message: '必填字段', trigger: 'change' },\n            { pattern: /^[0-9]\\d*$/, message: '排序字段只能为自然数' }\n          ]\n        }\n    }\n  },\n  created() {\n    this.openLoading()\n    this.fetchTags()\n  },\n  computed: {\n    ...mapGetters([\n      'pres'\n    ]),\n    canAdd: function() {\n      return hasAuth(this.pres, '/system/tags/add')\n    },\n    canDel: function() {\n      return hasAuth(this.pres, '/system/tags/remove')\n    },\n    canDeleteBatch: function() {\n      return hasAuth(this.pres, '/system/tags/deleteBatch')\n    },\n    canUpdate: function() {\n      return hasAuth(this.pres, '/system/tags/update')\n    },\n    canTop: function() {\n      return hasAuth(this.pres, '/system/tags/top')\n    }\n  },\n  methods: {\n    fetchTags: function() {\n      fetchTags(this.params).then(res => {\n        this.tableData = res.data.records\n        this.total = res.data.total\n        this.loading.close()\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    submit: function() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          if (this.isEditForm) {\n            update(this.tag).then(res => {\n              this.$message.success('修改标签成功')\n              this.fetchTags()\n              this.closeDialogForm()\n            }).catch(err => {\n              console.log(err)\n            })\n          } else {\n            add(this.tag).then(res => {\n              this.$message.success('添加标签成功')\n              this.tag = res.data\n              this.fetchTags()\n              this.closeDialogForm()\n            }).catch(err => {\n              console.log(err)\n            })\n          }\n        } else {\n          console.error('no submit')\n        }\n      })\n    },\n    remove: function(scope) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        remove(scope.row.id).then(res => {\n          this.$message.success('删除标签成功')\n          this.fetchTags()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    handleCreate: function() {\n      this.isEditForm = 0\n      this.tag = this.getFormObject()\n      this.title = '新增标签'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    handleEdit: function(scope) {\n      info(scope.row.id).then(res => {\n        this.tag = res.data\n        this.isEditForm = 1\n        this.title = '修改标签'\n        this.dialogFormVisible = true\n        this.$nextTick(() => {\n          this.$refs['dataForm'].clearValidate()\n        })\n      })\n    },\n    getFormObject: function() {\n      return {\n        name: '',\n        sort: ''\n      }\n    },\n    handleTop: function(scope) {\n      this.$confirm('此操作将会把该标签放到首位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        top(scope.row.id).then(res => {\n          this.$message.success('置顶标签成功')\n          this.fetchTags()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消置顶'\n        })\n      })\n    },\n    resetQuery: function() {\n      this.params.name = null\n      this.fetchTags()\n    },\n    handleFind: function() {\n      this.params.pageNo = 1\n      this.fetchTags()\n    },\n    handleDelete: function() {\n      if (!this.multipleSelection.length) {\n        this.$message.error('请选择要删除的标签')\n        return false\n      }\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const ids = []\n        this.multipleSelection.forEach(item => {\n          ids.push(item.id)\n        })\n        deleteBatch(ids).then(res => {\n          this.$message.success('批量删除标签成功')\n          this.fetchTags()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    closeDialogForm: function() {\n      this.tag = {}\n      this.dialogFormVisible = false\n    },\n    handleSizeChange: function(val) {\n      this.params.pageSize = val\n      this.fetchTags()\n    },\n    handleCurrentChange: function(val) {\n      this.params.pageNo = val\n      this.fetchTags()\n    },\n    handleSelectionChange: function(val) {\n      this.multipleSelection = val\n    },\n    // 打开加载层\n    openLoading() {\n      this.loading = this.$loading({\n        lock: true,\n        text: '正在加载中~',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      })\n    },\n    dataFormat: function(time) {\n      return parseTime(time)\n    }\n  }\n}\n</script>\n"]}]}