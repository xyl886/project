{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\src\\views\\system\\api.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\src\\views\\system\\api.vue","mtime":1682345557000},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689641835446},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1689641839258},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689641835446},{"path":"C:\\Users\\Administrator\\Desktop\\product\\blog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1689641841369}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoTWVudSwgZmV0Y2hBcGksIGNyZWF0ZU1lbnUsIHJlbW92ZU1lbnUsIHVwZGF0ZU1lbnUgfSBmcm9tICdAL2FwaS9zeXN0ZW0nCmltcG9ydCBJY29uc0RpYWxvZyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0ljb25zRGlhbG9nJwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgaGFzQXV0aCB9IGZyb20gJ0AvdXRpbHMvYXV0aCcKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJY29uc0RpYWxvZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleXdvcmQ6IG51bGwsCiAgICAgIGJ1dHRvblBhcmVudFVpZDogW10sCiAgICAgIHNob3dIZWFkZXI6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLrooajlpLQKICAgICAgaGlkZGVuVHlwZXM6IFsnd2FybmluZycsICdzdWNjZXNzJ10sCiAgICAgIGhpZGRlbk9wdGlvbnM6IFsn5ZCmJywgJ+aYryddLAogICAgICBtZW51VHlwZXM6IFsnc3VjY2VzcycsICd3YXJuaW5nJ10sCiAgICAgIG1lbnVUeXBlT3B0aW9uczogWyfoj5zljZUnLCAn5oyJ6ZKuJ10sCiAgICAgIG1lbnVMZXZlbFR5cGU6IFsnc3VjY2VzcycsICdkYW5nZXInLCAnaW5mbyddLAogICAgICBtZW51TGV2ZWxPcHRpb25zOiBbJ+S4gOe6p+iPnOWNlScsICfkuoznuqfoj5zljZUnLCAn5LiJ57qn6I+c5Y2VJ10sCiAgICAgIGlzRWRpdEZvcm06IDAsCiAgICAgIHRpdGxlOiBudWxsLAogICAgICBmb3JtOiB7fSwKICAgICAgcXVlcnk6IHsKICAgICAgICBpZDogbnVsbAogICAgICB9LAogICAgICAvLyDliqDovb3lsYLkv6Hmga8KICAgICAgbG9hZGluZzogW10sCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLAogICAgICBtZW51RGF0YTogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXJsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWldXJsJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgaWNvbjogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6ICfor7fpgInmi6nlm77moIcnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICBsZXZlbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeiPnOWNlee6p+WIqycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIGNvbXBvbmVudDogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6ICfor7fovpPlhaXot6/nlLHlnLDlnYAnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICBoaWRkZW46IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmmK/lkKbmmL7npLonLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICB0aXRsZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNleWQjeensCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgJ3ByZXMnCiAgICBdKSwKICAgIGNhbkFkZDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vbWVudS9jcmVhdGUnKQogICAgfSwKICAgIGNhbkRlbDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vbWVudS9yZW1vdmUnKQogICAgfSwKICAgIGNhblVwZGF0ZTogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vbWVudS91cGRhdGUnKQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3BlbkxvYWRpbmcoKQogICAgdGhpcy5mZXRjaEFwaSgpCiAgICBmZXRjaE1lbnUoKS50aGVuKHJlcyA9PiB7CiAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgY29uc3QgcGFyZW50ID0ge30KICAgICAgICBwYXJlbnQubGFiZWwgPSBpdGVtLnRpdGxlCiAgICAgICAgcGFyZW50LnZhbHVlID0gaXRlbS5pZAogICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IFtdCiAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkSXRlbSA9PiB7CiAgICAgICAgICBjb25zdCBjaGlsZCA9IHt9CiAgICAgICAgICBjaGlsZC5sYWJlbCA9IGNoaWxkSXRlbS50aXRsZQogICAgICAgICAgY2hpbGQudmFsdWUgPSBjaGlsZEl0ZW0uaWQKICAgICAgICAgIGNoaWxkTGlzdC5wdXNoKGNoaWxkKQogICAgICAgIH0pCiAgICAgICAgcGFyZW50LmNoaWxkcmVuID0gY2hpbGRMaXN0CiAgICAgICAgdGhpcy5vcHRpb25zLnB1c2gocGFyZW50KQogICAgICB9KQogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoQXBpOiBmdW5jdGlvbigpIHsKICAgICAgZmV0Y2hBcGkodGhpcy5xdWVyeSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubWVudURhdGEgPSByZXMuZGF0YQogICAgICAgIHRoaXMubG9hZGluZy5jbG9zZSgpCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRmluZDogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLmtleXdvcmQgPT0gbnVsbCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeiPnOWNlScpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgdGhpcy5xdWVyeS5pZCA9IHRoaXMua2V5d29yZFsxXQogICAgICB0aGlzLmZldGNoQXBpKCkKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5mb3JtLnBhcmVudElkID0gdGhpcy5idXR0b25QYXJlbnRVaWRbMV0KICAgICAgICAgIGlmICh0aGlzLmlzRWRpdEZvcm0pIHsKICAgICAgICAgICAgdXBkYXRlTWVudSh0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgdGhpcy5mZXRjaEFwaSgpCiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjcmVhdGVNZW51KHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSkKICAgICAgICAgICAgICB0aGlzLmZldGNoQXBpKCkKICAgICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycikKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJykKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIGlmIChzY29wZS5yb3cuY2hpbGRyZW4pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor6Xoj5zljZXlrZjlnKjlrZDoj5zljZXvvIzor7flhYjliKDpmaTlrZDoj5zljZUnKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICByZW1vdmVNZW51KHNjb3BlLnJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5mZXRjaEFwaSgpCiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliKDpmaQnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uKHBhcmVudFJvdywgcm93KSB7CiAgICAgIC8vIOiuvue9rue6p+iBlOeahOeItuiPnOWNleWQjQogICAgICBjb25zdCBwYXJlbnRVaWQgPSBbXQogICAgICBwYXJlbnRVaWQucHVzaChwYXJlbnRSb3cucGFyZW50SWQpCiAgICAgIHBhcmVudFVpZC5wdXNoKHBhcmVudFJvdy5pZCkKICAgICAgdGhpcy5idXR0b25QYXJlbnRVaWQgPSBwYXJlbnRVaWQKICAgICAgdGhpcy5mb3JtID0gcm93CiAgICAgIHRoaXMuYmVmb3JlU2hvdygn5L+u5pS55o6l5Y+jJywgMSkKICAgIH0sCiAgICBoYW5kbGVDcmVhdGU6IGZ1bmN0aW9uKGlkKSB7CiAgICAgIHRoaXMuZm9ybSA9IHRoaXMuZ2V0Rm9ybU9iamVjdCgpCiAgICAgIHRoaXMuYnV0dG9uUGFyZW50VWlkID0gW10KICAgICAgdGhpcy5iZWZvcmVTaG93KCfmt7vliqDmjqXlj6MnLCAwKQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICBiZWZvcmVTaG93OiBmdW5jdGlvbih0aXRsZSwgaXNFZGl0Rm9ybSkgewogICAgICB0aGlzLnRpdGxlID0gdGl0bGUKICAgICAgdGhpcy5pc0VkaXRGb3JtID0gaXNFZGl0Rm9ybQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGdldEZvcm1PYmplY3Q6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gewogICAgICAgIHBhcmVudElkOiBudWxsLAogICAgICAgIHVybDogJycsCiAgICAgICAgY29tcG9uZW50OiAnJywKICAgICAgICB0eXBlOiAnYnRuJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbGV2ZWw6IDIsCiAgICAgICAgc29ydE5vOiAnJywKICAgICAgICBoaWRkZW46IDAsCiAgICAgICAgcmVtYXJrczogJycKICAgICAgfQogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMuZm9ybSA9IHt9CiAgICB9LAogICAgLy8g5omT5byA5Yqg6L295bGCCiAgICBvcGVuTG9hZGluZzogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJ+ato+WcqOWKoOi9veS4rX4nLAogICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNyknCiAgICAgIH0pCiAgICB9CiAgfQoKfQo="},{"version":3,"sources":["api.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"api.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\n  <div>\n    <div class=\"app-container\">\n      <!-- 查询和其他操作 -->\n      <el-form v-show=\"showSearch\" ref=\"form\" :inline=\"true\" label-width=\"68px\">\n        <el-form-item label=\"菜单名称\">\n          <el-cascader\n            v-model=\"keyword\"\n            size=\"small\"\n            :options=\"options\"\n            placeholder=\"请选择菜单名\"\n            :props=\"{ checkStrictly: false }\"\n            clearable\n            @change=\"handleFind\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button v-if=\"canAdd\" type=\"primary\" icon=\"el-icon-search\" size=\"small\" @click=\"handleCreate\">新增</el-button>\n        </el-form-item>\n      </el-form>\n\n      <div>\n        <el-table :data=\"menuData\" style=\"width: 100%\">\n          <el-table-column type=\"expand\">\n            <template slot-scope=\"scope\">\n              <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                <el-table :data=\"scope.row.children\" :show-header=\"showHeader\" style=\"width: 100%\">\n\n                  <el-table-column label width=\"60\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <span>{{ scope_child.$index + 1 }}</span>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column label width=\"150\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <span>{{ scope_child.row.title }}</span>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column label width=\"100\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <el-tag :type=\"menuLevelType[scope_child.row.level]\">\n                        {{ menuLevelOptions[scope_child.row.level] }}\n                      </el-tag>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column label=\"菜单类型\" width=\"100\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <el-tag :type=\"menuTypes[scope_child.row.type === 'menu'?0:1]\">\n                        {{ menuTypeOptions[scope_child.row.type === 'menu' ? 0 : 1] }}\n                      </el-tag>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column label width=\"100\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <span v-if=\"scope_child.row.icon != null\">\n                        <i v-if=\"scope_child.row.icon.indexOf('el-') >-1\" :class=\"scope_child.row.icon\" />\n                        <svg-icon :icon-class=\"scope_child.row.icon\" />\n                      </span>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column label width=\"200\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <span>{{ scope_child.row.url }}</span>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column width=\"100\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <el-tag :type=\"hiddenTypes[scope_child.row.hidden]\">\n                        {{ hiddenOptions[scope_child.row.hidden] }}\n                      </el-tag>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column width=\"100\" align=\"center\">\n                    <template slot-scope=\"scope_child\">\n                      <el-tag type=\"warning\">{{ scope_child.row.sortNo }}</el-tag>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column align=\"center\" min-width=\"230\">\n                    <template slot-scope=\"scope_child\">\n                      <el-button v-if=\"canUpdate\" type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row,scope_child.row)\">编辑</el-button>\n                      <el-button v-if=\"canDel\" size=\"mini\" type=\"danger\" @click=\"remove(scope_child)\">删除</el-button>\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </el-form>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"序号\" width=\"60\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.$index + 1 }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"菜单名称\" width=\"150\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.title }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"菜单级别\" width=\"100\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"menuLevelType[scope.row.level]\">\n                {{ menuLevelOptions[scope.row.level] }}\n              </el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"菜单类型\" width=\"100\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"menuTypes[scope.row.type === 'menu'?0:1]\">\n                {{ menuTypeOptions[scope.row.type === 'menu' ? 0 : 1] }}\n              </el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"图标\" width=\"100\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.icon != null\">\n                <i v-if=\"scope.row.icon.indexOf('el-') >-1\" :class=\"scope.row.icon\" />\n                <svg-icon :icon-class=\"scope.row.icon\" />\n              </span>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"路由\" width=\"200\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.url }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"是否显示\" width=\"100\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"hiddenTypes[scope.row.hidden]\">\n                {{ hiddenOptions[scope.row.hidden] }}\n              </el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"排序\" width=\"100\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag type=\"warning\">{{ scope.row.sortNo }}</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"操作\" align=\"center\" min-width=\"270\">\n            <template slot-scope=\"scope\" />\n          </el-table-column>\n        </el-table>\n      </div>\n    </div>\n\n    <el-dialog center :title=\"title\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"form\">\n        <el-form-item prop=\"url\" label=\"路由\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.url\" autocomplete=\"off\" />\n        </el-form-item>\n        <el-form-item prop=\"title\" label=\"接口名称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" autocomplete=\"off\" />\n        </el-form-item>\n        <!-- 用于接口 -->\n        <el-form-item\n          prop=\"parentId\"\n          label=\"父菜单名\"\n          :label-width=\"formLabelWidth\"\n        >\n          <el-cascader\n            v-model=\"buttonParentUid\"\n            :options=\"options\"\n            placeholder=\"请选择父菜单\"\n            filterable\n            :props=\"{ checkStrictly: false }\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item label=\"排序\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.sortNo\" autocomplete=\"off\" />\n        </el-form-item>\n        <el-form-item label=\"备注\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.remarks\" autocomplete=\"off\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { fetchMenu, fetchApi, createMenu, removeMenu, updateMenu } from '@/api/system'\nimport IconsDialog from '../../components/IconsDialog'\nimport { mapGetters } from 'vuex'\nimport { hasAuth } from '@/utils/auth'\n\nexport default {\n  components: {\n    IconsDialog\n  },\n  data() {\n    return {\n      keyword: null,\n      buttonParentUid: [],\n      showHeader: false, // 是否显示表头\n      hiddenTypes: ['warning', 'success'],\n      hiddenOptions: ['否', '是'],\n      menuTypes: ['success', 'warning'],\n      menuTypeOptions: ['菜单', '按钮'],\n      menuLevelType: ['success', 'danger', 'info'],\n      menuLevelOptions: ['一级菜单', '二级菜单', '三级菜单'],\n      isEditForm: 0,\n      title: null,\n      form: {},\n      query: {\n        id: null\n      },\n      // 加载层信息\n      loading: [],\n      options: [],\n      dialogFormVisible: false,\n      showSearch: true,\n      formLabelWidth: '120px',\n      menuData: [],\n      rules: {\n        url: [\n          { required: true, message: '请输入url', trigger: 'change' }\n        ],\n        icon: [\n          { required: false, message: '请选择图标', trigger: 'change' }\n        ],\n        level: [\n          { required: true, message: '请选择菜单级别', trigger: 'change' }\n        ],\n        component: [\n          { required: false, message: '请输入路由地址', trigger: 'change' }\n        ],\n        hidden: [\n          { required: true, message: '请选择是否显示', trigger: 'change' }\n        ],\n        title: [\n          { required: true, message: '请输入菜单名称', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'pres'\n    ]),\n    canAdd: function() {\n      return hasAuth(this.pres, '/system/menu/create')\n    },\n    canDel: function() {\n      return hasAuth(this.pres, '/system/menu/remove')\n    },\n    canUpdate: function() {\n      return hasAuth(this.pres, '/system/menu/update')\n    }\n  },\n  created() {\n    this.openLoading()\n    this.fetchApi()\n    fetchMenu().then(res => {\n      res.data.forEach(item => {\n        const parent = {}\n        parent.label = item.title\n        parent.value = item.id\n        const childList = []\n        item.children.forEach(childItem => {\n          const child = {}\n          child.label = childItem.title\n          child.value = childItem.id\n          childList.push(child)\n        })\n        parent.children = childList\n        this.options.push(parent)\n      })\n    })\n  },\n  methods: {\n    fetchApi: function() {\n      fetchApi(this.query).then(res => {\n        this.menuData = res.data\n        this.loading.close()\n      }).catch(err => {\n        console.error(err)\n      })\n    },\n    handleFind: function() {\n      if (this.keyword == null) {\n        this.$message.error('请选择菜单')\n        return false\n      }\n      this.query.id = this.keyword[1]\n      this.fetchApi()\n    },\n    submit: function() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          this.form.parentId = this.buttonParentUid[1]\n          if (this.isEditForm) {\n            updateMenu(this.form).then(res => {\n              this.$message.success(res.message)\n              this.fetchApi()\n              this.close()\n            }).catch(err => {\n              console.error(err)\n            })\n          } else {\n            createMenu(this.form).then(res => {\n              this.$message.success(res.message)\n              this.fetchApi()\n              this.close()\n            }).catch(err => {\n              console.error(err)\n            })\n          }\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    remove: function(scope) {\n      if (scope.row.children) {\n        this.$message.error('该菜单存在子菜单，请先删除子菜单')\n        return\n      }\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        removeMenu(scope.row.id).then(res => {\n          this.fetchApi()\n          this.$notify({\n            title: '成功',\n            message: res.message,\n            type: 'success'\n          })\n        }).catch(err => {\n          console.error(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    handleUpdate: function(parentRow, row) {\n      // 设置级联的父菜单名\n      const parentUid = []\n      parentUid.push(parentRow.parentId)\n      parentUid.push(parentRow.id)\n      this.buttonParentUid = parentUid\n      this.form = row\n      this.beforeShow('修改接口', 1)\n    },\n    handleCreate: function(id) {\n      this.form = this.getFormObject()\n      this.buttonParentUid = []\n      this.beforeShow('添加接口', 0)\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    beforeShow: function(title, isEditForm) {\n      this.title = title\n      this.isEditForm = isEditForm\n      this.dialogFormVisible = true\n    },\n    getFormObject: function() {\n      return {\n        parentId: null,\n        url: '',\n        component: '',\n        type: 'btn',\n        title: '',\n        level: 2,\n        sortNo: '',\n        hidden: 0,\n        remarks: ''\n      }\n    },\n    close: function() {\n      this.dialogFormVisible = false\n      this.form = {}\n    },\n    // 打开加载层\n    openLoading: function() {\n      this.loading = this.$loading({\n        lock: true,\n        text: '正在加载中~',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      })\n    }\n  }\n\n}\n</script>\n"]}]}